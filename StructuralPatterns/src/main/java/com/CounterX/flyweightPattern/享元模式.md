# 享元模式

享元（Flyweight）的核心思想很简单：如果一个对象实例一经创建就不可变，那么反复创建相同的实例就没有必要，直接向调用方返回一个共享的实例就行，这样即节省内存，又可以减少创建对象的过程，提高运行速度，从而使系统可以 Fly 。

### 优缺点

享元模式的优点

1. 享元模式的优点在于它可以极大减少内存中对象的数量，使得相同对象或相似对象在内存中只保存一份。
2. 享元模式的外部状态相对独立，而且不会影响其内部状态，从而使得享元对象可以在不同的环境中被共享。

享元模式的缺点

1. 享元模式使得系统更加复杂，需要分离出内部状态和外部状态，这使得程序的逻辑复杂化。
2. 为了使对象可以共享，享元模式需要将享元对象的状态外部化，而读取外部状态使得运行时间变长。

### 应用场景

- 享元模式在编辑器软件中大量使用，如在一个文档中多次出现相同的图片，则只需要创建一个图片对象，通过在应用程序中设置该图片出现的位置，可以实现该图片在不同地方多次重复显示。
- Java标准库中的包装类型，如 `Byte`、`Integer` 等。

工厂模式的例子已经足以说明享元模式的优势，享元模式也需要通过工厂模式实现，因此不再额外增加示例，这也是一种享元模式XD。

# 参考资料

- https://www.liaoxuefeng.com/wiki/1252599548343744/1281319417937953
- https://design-patterns.readthedocs.io/zh_CN/latest/structural_patterns/flyweight.html