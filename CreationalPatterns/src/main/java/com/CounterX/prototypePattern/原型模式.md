# 原型模式

代码见 `PrototypeTest`

原型模式即通过原型实例指定创建对象的种类，并通过拷贝原型产生新的对象。

其主要目的在于，解决 `clone()` 方法“浅克隆”的问题，实现“深克隆”。

> 浅克隆：即当一个对象 A 包含对另一个对象 B 的引用时，直接调用 `clone()` 方法产生的对象 C 只会复制 A 对 B 的引用，而不会将 B 复制
> 深克隆：即当克隆 A 产生的对象 C 包含对 B 的克隆对象 D 的引用，而非对 B 的引用。

对于普通类，只需调用 `clone()` 方法即可，为实现深拷贝，可以定义一个 `copy()` 方法，将引用的对象也复制一份。

### 优缺点

优点：

1. 当创建新的对象实例较为复杂时，使用原型模式可以通过复制一个已有实例可以提高新实例的创建效率。 
2. 可以使用深克隆的方式保存对象的状态，以便在需要的时候使用，可辅助实现撤销操作。

缺点：

1. 需要为每一个类配备一个克隆方法，而且该克隆方法位于一个类的内部，当对已有的类进行改造时，需要修改源代码，违背了“开闭原则”。
2. 当对象之间存在多重的嵌套引用时，为了实现深克隆，每一层对象对应的类都必须支持深克隆。

# 