# 建造者模式

> 将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。

这句话如此抽象以至于无法理解，我对建造者模式的理解就是：建造者模式通过支持链式操作简化复杂对象的建造过程。

### 建造者模式的组成部分

1. 产品 Product：要创建的产品对象。
2. Builder 接口：规范建造过程的操作。
3. ConcreteBuilder 具体建造者：Builder 接口的实现类，具体完成实现。
4. 调用者 Director：调用建造者来创建对象。

### 优缺点

优点

1. 可以将创建过程的具体实现封装，方便使用。
2. 方便 Product 类的开发和（不增加新属性的）维护。

缺点

1. 产生多余的 Builder 对象。
2. Product 类增减属性时，Builder 接口及其所有实现类都要修改。

与工厂模式的区别

1. 建造者模式旨在简化建造过程，工厂模式旨在提供标准化的对象。
2. 建造者模式可以自定义建造的顺序，而工厂模式的建造顺序是指定的。
3. Builder 的使用者需要知道这个产品有哪些零件，而工厂模式的使用者不需要知道。

### Tips

如果建造过程不需要对属性进行检验，那么也可以通过修改 Setter 方法支持链式操作，这样可以避免建造者模式的缺点。

### 实际对比

以有3个属性 (id, type, name) 的 Product 类为例，这里给出 3 种实现。

1. 写出全部 8 种构造器的 Product0
2. 只有无参构造器和返回值为空的 Setter 的 Product1
3. 只有无参构造器和返回值为自己的 Setter 的 Product2

其使用方式见`BuilderTest`